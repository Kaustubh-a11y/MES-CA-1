ORG 0000H

; ---------- INITIAL DATA ----------
MOV 40H,#0FFH
MOV 41H,#0AH
MOV 42H,#0FFH
MOV 43H,#0FFH
MOV 44H,#0BH
MOV 45H,#0CH
MOV 46H,#0FFH
MOV 47H,#0DH
MOV 48H,#11H
MOV 49H,#22H
MOV 4AH,#0FFH
MOV 4BH,#33H
MOV 4CH,#44H
MOV 4DH,#0FFH
MOV 4EH,#55H
MOV 4FH,#66H
MOV 50H,#0EH
MOV 51H,#0FFH
MOV 52H,#0FFH
MOV 53H,#77H
MOV 54H,#88H
MOV 55H,#99H
MOV 56H,#77H
MOV 57H,#0AAH
MOV 58H,#0BBH
MOV 59H,#0CCH
MOV 5AH,#0DDH
MOV 5BH,#0EEH
MOV 5CH,#1FH
MOV 5DH,#0FFH
MOV 5EH,#0FFH
MOV 5FH,#0FFH

; ---------- POINTER SETUP ----------
MOV R0,#40H
MOV R1,#40H
MOV R2,#20H

; ---------- COMPACT LOOP ----------
LOOP:
MOV A,@R0
INC A
JZ SKIP
DEC A
MOV @R1,A
INC R1
SJMP NEXT

SKIP:
DEC A

NEXT:
INC R0
DEC R2
JNZ LOOP

; ---------- FILL WITH 00 ----------
CLR A

FILL:
MOV A,R1
ANL A,#0F0H
JZ DONE
CLR A
MOV @R1,A
INC R1
SJMP FILL

DONE:
SJMP DONE

END
